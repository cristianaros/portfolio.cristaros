---
import ActivityBarWidgets from "../components/ActivityBarWidgets";
import { ClientRouter } from "astro:transitions";

interface Props {
  title?: string;
  activeFile?: string;
}

const { title = "portfolio_dev ‚Äî README.md", activeFile = "README.md" } =
  Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#1e1e2e" />
    <meta property="og:title" content="Portfolio | Cristian Aros" />
    <meta property="og:description" content="Portfolio profesional simulando Visual Studio Code ‚Äî Ingeniero Civil Inform√°tico y Desarrollador Full Stack." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://portfolio.cristaros.com/" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="description"
      content="Portfolio profesional de Cristian Aros ‚Äî Ingeniero Civil Inform√°tico y Desarrollador de Software"
    />
    <meta name="author" content="Cristian Aros" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{title}</title>
    <ClientRouter />
    <script is:inline>
      // Prevent flash of wrong theme
      (function () {
        const stored = localStorage.getItem("portfolio-theme");
        if (stored) document.documentElement.setAttribute("data-theme", stored);
      })();
    </script>
  </head>
  <body
    class="h-screen w-screen overflow-hidden bg-vscode-bg text-vscode-text font-mono flex flex-col">
    <!-- ===== MOBILE HEADER (visible only on small screens) ===== -->
    <div
      class="flex md:hidden items-center justify-between h-10 bg-vscode-menu border-b border-vscode-border px-3 shrink-0">
      <button
        id="mobile-menu-btn"
        class="w-8 h-8 flex items-center justify-center text-vscode-textMuted hover:text-vscode-text transition-colors"
        title="Men√∫">
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <span class="text-[12px] text-vscode-textMuted truncate mx-2"
        >{activeFile}</span
      >
      <div class="w-8"></div>
    </div>

    <!-- ===== MOBILE DRAWER ===== -->
    <div
      id="mobile-drawer-overlay"
      class="fixed inset-0 z-[60] bg-black/40 hidden md:hidden"
      style="opacity:0;transition:opacity 0.2s ease">
      <aside
        id="mobile-drawer"
        class="absolute left-0 top-0 bottom-0 w-64 bg-vscode-sidebar border-r border-vscode-border flex flex-col overflow-y-auto"
        style="transform:translateX(-100%);transition:transform 0.25s ease">
        <!-- Drawer Header -->
        <div
          class="flex items-center justify-between px-4 py-3 border-b border-vscode-border">
          <span
            class="text-[11px] tracking-wider uppercase text-vscode-textMuted font-semibold"
            >Explorador</span
          >
          <button
            id="mobile-drawer-close"
            class="w-6 h-6 flex items-center justify-center rounded hover:bg-vscode-surface0/50 text-vscode-textMuted hover:text-vscode-text transition-colors">
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              ><path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"></path></svg
            >
          </button>
        </div>

        <!-- File Tree -->
        <div class="px-3 py-2 flex flex-col text-[13px] gap-0.5">
          <div
            class="flex items-center gap-1 px-2 py-1 text-[11px] tracking-wider uppercase text-vscode-textMuted font-semibold mb-1">
            <svg
              class="w-3 h-3 transform rotate-90"
              fill="currentColor"
              viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg
            >
            <span>Portfolio</span>
          </div>

          <!-- README.md -->
          <a
            href="/"
            class={`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${activeFile === "README.md" ? "bg-vscode-surface0/70 text-vscode-text" : "text-vscode-textSubtle hover:bg-vscode-surface0/50"}`}>
            <svg
              class="w-4 h-4 text-vscode-accent shrink-0"
              fill="currentColor"
              viewBox="0 0 24 24"
              ><path
                d="M14.85 3H5.15A2.16 2.16 0 003 5.15v13.7A2.16 2.16 0 005.15 21h13.7A2.16 2.16 0 0021 18.85V9.15L14.85 3zm-.35 2.12L17.88 8.5h-3.38V5.12zM5 18.85V5.15A.15.15 0 015.15 5H13v5h5v8.85a.15.15 0 01-.15.15H5.15A.15.15 0 015 18.85z"
              ></path></svg
            >
            <span>README.md</span>
          </a>

          <!-- proyectos.json -->
          <a
            href="/proyectos"
            class={`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${activeFile === "proyectos.json" ? "bg-vscode-surface0/70 text-vscode-text" : "text-vscode-textSubtle hover:bg-vscode-surface0/50"}`}>
            <svg
              class="w-4 h-4 text-vscode-yellow shrink-0"
              fill="currentColor"
              viewBox="0 0 24 24"
              ><path
                d="M5 3h2v2H5v5a2 2 0 01-2 2 2 2 0 012 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 00-2-2H0v-2h1a2 2 0 002-2V5a2 2 0 012-2m14 0a2 2 0 012 2v4a2 2 0 002 2h1v2h-1a2 2 0 00-2 2v4a2 2 0 01-2 2h-2v-2h2v-5a2 2 0 012-2 2 2 0 01-2-2V5h-2V3h2M12 15a1 1 0 110 2 1 1 0 010-2m-4 0a1 1 0 110 2 1 1 0 010-2m8 0a1 1 0 110 2 1 1 0 010-2z"
              ></path></svg
            >
            <span>proyectos.json</span>
          </a>

          <!-- snake.astro -->
          <a
            href="/snake"
            class={`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${activeFile === "snake.astro" ? "bg-vscode-surface0/70 text-vscode-text" : "text-vscode-textSubtle hover:bg-vscode-surface0/50"}`}>
            <span
              class="w-4 h-4 shrink-0 flex items-center justify-center text-[12px]"
              >üêç</span
            >
            <span>snake.astro</span>
          </a>

          <!-- config.json -->
          <button
            id="mobile-config-json-btn"
            class="flex items-center gap-2 px-3 py-2 rounded-md hover:bg-vscode-surface0/50 transition-colors w-full text-left text-vscode-textSubtle">
            <svg
              class="w-4 h-4 text-vscode-yellow shrink-0"
              fill="currentColor"
              viewBox="0 0 24 24"
              ><path
                d="M5 3h2v2H5v5a2 2 0 01-2 2 2 2 0 012 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 00-2-2H0v-2h1a2 2 0 002-2V5a2 2 0 012-2m14 0a2 2 0 012 2v4a2 2 0 002 2h1v2h-1a2 2 0 00-2 2v4a2 2 0 01-2 2h-2v-2h2v-5a2 2 0 012-2 2 2 0 01-2-2V5h-2V3h2M12 15a1 1 0 110 2 1 1 0 010-2m-4 0a1 1 0 110 2 1 1 0 010-2m8 0a1 1 0 110 2 1 1 0 010-2z"
              ></path></svg
            >
            <span>config.json</span>
          </button>
        </div>
      </aside>
    </div>

    <!-- ===== MAIN CONTENT ===== -->
    <div class="flex flex-1 overflow-hidden">
      <!-- ===== ACTIVITY BAR (hidden on mobile) ===== -->
      <aside
        class="hidden md:flex w-12 bg-vscode-menu border-r border-vscode-border flex-col items-center py-2 gap-1 shrink-0">
        <!-- Explorer (active) -->
        <button
          class="w-10 h-10 flex items-center justify-center text-vscode-text border-l-2 border-vscode-accent rounded-none hover:bg-vscode-surface0/30 transition-colors"
          title="Explorador"
          aria-label="Explorador">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"
            ><path
              d="M17.5 0h-9L7 1.5V6H2.5L1 7.5v15.07L2.5 24h12.07L16 22.57V18h4.7l1.3-1.43V4.5L17.5 0zm0 2.12l2.38 2.38H17.5V2.12zm-3 20.38h-12v-15H7v9.07L8.5 18h6v4.5zm6-6h-12v-15H16V6h4.5v10.5z"
            ></path></svg
          >
        </button>

        <!-- Search -->
        <button
          class="w-10 h-10 flex items-center justify-center text-vscode-textMuted hover:text-vscode-text hover:bg-vscode-surface0/30 transition-colors"
          title="Buscar"
          aria-label="Buscar">
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            ><path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg
          >
        </button>

        <!-- Source Control -->
        <button
          class="w-10 h-10 flex items-center justify-center text-vscode-textMuted hover:text-vscode-text hover:bg-vscode-surface0/30 transition-colors relative"
          title="Control de c√≥digo fuente"
          aria-label="Control de c√≥digo fuente">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"
            ><path
              d="M21.007 8.222A3.738 3.738 0 0 0 15.045 5.2a3.737 3.737 0 0 0 1.156 6.583 2.988 2.988 0 0 1-2.668 1.67h-2.99a4.456 4.456 0 0 0-2.989 1.165V7.559a3.738 3.738 0 1 0-1.494 0v8.882a3.738 3.738 0 1 0 1.494.028 2.99 2.99 0 0 1 2.989-2.758h2.99a4.489 4.489 0 0 0 4.223-3.11 3.746 3.746 0 0 0 3.251-2.379zM3.01 3.987A2.24 2.24 0 1 1 5.25 6.227 2.24 2.24 0 0 1 3.01 3.987zm4.48 16.026a2.24 2.24 0 1 1-2.24-2.24 2.24 2.24 0 0 1 2.24 2.24zM18.258 9.84a2.24 2.24 0 1 1 2.24-2.24 2.24 2.24 0 0 1-2.24 2.24z"
            ></path></svg
          >
          <span
            class="absolute -top-0.5 -right-0.5 w-4 h-4 bg-vscode-accent text-[10px] font-bold rounded-full flex items-center justify-center text-vscode-bg"
            >1</span
          >
        </button>

        <!-- Extensions -->
        <button
          class="w-10 h-10 flex items-center justify-center text-vscode-textMuted hover:text-vscode-text hover:bg-vscode-surface0/30 transition-colors"
          title="Extensiones"
          aria-label="Extensiones">
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"
            ><path
              d="M13.5 1.515a3 3 0 0 0-3 0L7.5 3.026 4.567 1.529a3 3 0 0 0-3 0A3 3 0 0 0 .067 4.037v5.072a3 3 0 0 0 1.5 2.598L4.5 13.2v2.972a3 3 0 0 0 1.5 2.598l3 1.733a3 3 0 0 0 3 0l3-1.733a3 3 0 0 0 1.5-2.598V13.2l2.933-1.494A3 3 0 0 0 20.933 9.1V4.037a3 3 0 0 0-1.5-2.508 3 3 0 0 0-3 0L13.5 3.026l-3-1.511z"
            ></path></svg
          >
        </button>

        <div class="flex-1"></div>

        <!-- User -->
        <button
          class="w-10 h-10 flex items-center justify-center text-vscode-textMuted hover:text-vscode-text hover:bg-vscode-surface0/30 transition-colors"
          title="Cuenta"
          aria-label="Cuenta">
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            ><path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
            ></path></svg
          >
        </button>

        <!-- Settings + Easter Eggs (React Island) -->
        <ActivityBarWidgets client:load />
      </aside>

      <!-- ===== SIDEBAR EXPLORER (hidden on mobile) ===== -->
      <aside
<<<<<<< HEAD
        class="hidden md:flex w-56 bg-vscode-sidebar border-r border-vscode-border flex-col shrink-0 select-none">
=======
        class="w-56 bg-vscode-sidebar border-r border-vscode-border hidden md:flex flex-col shrink-0 select-none">
>>>>>>> 72eba10aee49baf371e42729088083af6d24b880
        <!-- Explorer Header -->
        <div
          class="flex items-center justify-between px-4 py-2 text-[11px] tracking-wider uppercase text-vscode-textMuted">
          <span>Explorador</span>
          <button
            class="hover:text-vscode-text transition-colors text-lg leading-none"
            aria-label="M√°s acciones del explorador"
            title="M√°s acciones del explorador"
            >¬∑¬∑¬∑</button
          >
        </div>

        <!-- Portfolio Folder -->
        <div class="px-2">
          <div
            class="flex items-center gap-1 px-2 py-0.5 text-[11px] tracking-wider uppercase text-vscode-textMuted font-semibold">
            <svg
              class="w-3 h-3 transform rotate-90"
              fill="currentColor"
              viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg
            >
            <span>Portfolio</span>
          </div>

          <!-- File Tree -->
          <div class="ml-2 flex flex-col text-[13px]">
            <!-- README.md -->
            <a
              href="/"
              class={`flex items-center gap-2 px-2 py-0.5 rounded hover:bg-vscode-surface0/50 transition-colors w-full text-left ${activeFile === "README.md" ? "bg-vscode-surface0/70 text-vscode-text" : "text-vscode-textSubtle"}`}>
              <svg
                class="w-4 h-4 text-vscode-accent shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M14.85 3H5.15A2.16 2.16 0 003 5.15v13.7A2.16 2.16 0 005.15 21h13.7A2.16 2.16 0 0021 18.85V9.15L14.85 3zm-.35 2.12L17.88 8.5h-3.38V5.12zM5 18.85V5.15A.15.15 0 015.15 5H13v5h5v8.85a.15.15 0 01-.15.15H5.15A.15.15 0 015 18.85z"
                ></path></svg
              >
              <span>README.md</span>
            </a>

            <!-- proyectos.json -->
            <a
              href="/proyectos"
              class={`flex items-center gap-2 px-2 py-0.5 rounded hover:bg-vscode-surface0/50 transition-colors w-full text-left ${activeFile === "proyectos.json" ? "bg-vscode-surface0/70 text-vscode-text" : "text-vscode-textSubtle"}`}>
              <svg
                class="w-4 h-4 text-vscode-yellow shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M5 3h2v2H5v5a2 2 0 01-2 2 2 2 0 012 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 00-2-2H0v-2h1a2 2 0 002-2V5a2 2 0 012-2m14 0a2 2 0 012 2v4a2 2 0 002 2h1v2h-1a2 2 0 00-2 2v4a2 2 0 01-2 2h-2v-2h2v-5a2 2 0 012-2 2 2 0 01-2-2V5h-2V3h2M12 15a1 1 0 110 2 1 1 0 010-2m-4 0a1 1 0 110 2 1 1 0 010-2m8 0a1 1 0 110 2 1 1 0 010-2z"
                ></path></svg
              >
              <span>proyectos.json</span>
            </a>

            <!-- snake.astro -->
            <a
              href="/snake"
              class={`flex items-center gap-2 px-2 py-0.5 rounded hover:bg-vscode-surface0/50 transition-colors w-full text-left ${activeFile === "snake.astro" ? "bg-vscode-surface0/70 text-vscode-text" : "text-vscode-textSubtle"}`}>
              <span
                class="w-4 h-4 shrink-0 flex items-center justify-center text-[12px]"
                >üêç</span
              >
              <span>snake.astro</span>
            </a>

            <!-- habilidades.ts -->
            <div
              class="flex items-center gap-2 px-2 py-0.5 rounded hover:bg-vscode-surface0/50 transition-colors w-full text-left text-vscode-textSubtle grayscale cursor-not-allowed opacity-50">
              <svg
                class="w-4 h-4 text-vscode-accent shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M3 3h18v18H3V3m1.5 1.5v15h15v-15h-15M6 8.73c0-1.36 1.05-2.4 2.98-2.4 1.04 0 1.78.37 2.31.92l-.97.96c-.37-.37-.78-.56-1.31-.56-.81 0-1.31.53-1.31 1.32v4.06c0 .79.5 1.32 1.31 1.32.53 0 .97-.21 1.31-.56l.97.96c-.53.55-1.27.92-2.31.92C7.05 15.67 6 14.63 6 13.27V8.73m6 0c0-1.36 1.05-2.4 2.98-2.4 1.04 0 1.78.37 2.31.92l-.97.96c-.37-.37-.78-.56-1.31-.56-.81 0-1.31.53-1.31 1.32v4.06c0 .79.5 1.32 1.31 1.32.53 0 .97-.21 1.31-.56l.97.96c-.53.55-1.27.92-2.31.92-1.93 0-2.98-1.04-2.98-2.4V8.73z"
                ></path></svg
              >
              <span>habilidades.ts</span>
            </div>

            <!-- estilos.css -->
            <div
              class="flex items-center gap-2 px-2 py-0.5 rounded hover:bg-vscode-surface0/50 transition-colors w-full text-left text-vscode-textSubtle grayscale cursor-not-allowed opacity-50">
              <svg
                class="w-4 h-4 text-vscode-pink shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M9.6 2.4L8.4 4H5.2A1.2 1.2 0 004 5.2v13.6A1.2 1.2 0 005.2 20h13.6a1.2 1.2 0 001.2-1.2V5.2A1.2 1.2 0 0018.8 4h-3.2L14.4 2.4H9.6z"
                ></path></svg
              >
              <span>estilos.css</span>
            </div>

            <!-- Folders -->
            <div
              class="flex items-center gap-2 px-2 py-0.5 text-vscode-textSubtle">
              <svg
                class="w-4 h-4 text-vscode-peach shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"
                ></path></svg
              >
              <span>componentes</span>
            </div>
            <div
              class="flex items-center gap-2 px-2 py-0.5 text-vscode-textSubtle">
              <svg
                class="w-4 h-4 text-vscode-peach shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"
                ></path></svg
              >
              <span>layouts</span>
            </div>
            <div
              class="flex items-center gap-2 px-2 py-0.5 text-vscode-textSubtle">
              <svg
                class="w-4 h-4 text-vscode-peach shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"
                ></path></svg
              >
              <span>assets</span>
            </div>

            <!-- config.json -->
            <button
              id="config-json-btn"
              class="flex items-center gap-2 px-2 py-0.5 rounded hover:bg-vscode-surface0/50 transition-colors w-full text-left text-vscode-textSubtle">
              <svg
                class="w-4 h-4 text-vscode-yellow shrink-0"
                fill="currentColor"
                viewBox="0 0 24 24"
                ><path
                  d="M5 3h2v2H5v5a2 2 0 01-2 2 2 2 0 012 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 00-2-2H0v-2h1a2 2 0 002-2V5a2 2 0 012-2m14 0a2 2 0 012 2v4a2 2 0 002 2h1v2h-1a2 2 0 00-2 2v4a2 2 0 01-2 2h-2v-2h2v-5a2 2 0 012-2 2 2 0 01-2-2V5h-2V3h2M12 15a1 1 0 110 2 1 1 0 010-2m-4 0a1 1 0 110 2 1 1 0 010-2m8 0a1 1 0 110 2 1 1 0 010-2z"
                ></path></svg
              >
              <span>config.json</span>
            </button>
          </div>
        </div>

        <!-- Collapsible sections -->
        <div class="mt-4 px-2">
          <div
            class="flex items-center gap-1 px-2 py-0.5 text-[11px] tracking-wider uppercase text-vscode-textMuted font-semibold">
            <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"
              ><path d="M8 5v14l11-7z"></path></svg
            >
            <span>Scripts NPM</span>
          </div>
          <div
            class="flex items-center gap-1 px-2 py-0.5 text-[11px] tracking-wider uppercase text-vscode-textMuted font-semibold">
            <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24"
              ><path d="M8 5v14l11-7z"></path></svg
            >
            <span>Esquema</span>
          </div>
        </div>
      </aside>

      <!-- ===== EDITOR AREA ===== -->
      <main class="flex-1 flex flex-col overflow-hidden">
        <!-- Tab Bar -->
        <div
<<<<<<< HEAD
          class="flex items-center bg-vscode-tabs border-b border-vscode-border h-9 shrink-0 overflow-x-auto scrollbar-none">
=======
          class="flex items-center bg-vscode-tabs border-b border-vscode-border h-9 shrink-0 overflow-x-auto scrollbar-hide">
>>>>>>> 72eba10aee49baf371e42729088083af6d24b880
          <a
            href="/"
            class={`flex items-center gap-2 px-4 py-1.5 text-[13px] border-r border-vscode-border h-full transition-colors shrink-0 ${activeFile === "README.md" ? "bg-vscode-tabActive text-vscode-text border-t-2 border-t-vscode-accent" : "bg-vscode-tabInactive text-vscode-textMuted hover:text-vscode-text"}`}>
            <svg
              class="w-4 h-4 text-vscode-accent"
              fill="currentColor"
              viewBox="0 0 24 24"
              ><path
                d="M14.85 3H5.15A2.16 2.16 0 003 5.15v13.7A2.16 2.16 0 005.15 21h13.7A2.16 2.16 0 0021 18.85V9.15L14.85 3zm-.35 2.12L17.88 8.5h-3.38V5.12zM5 18.85V5.15A.15.15 0 015.15 5H13v5h5v8.85a.15.15 0 01-.15.15H5.15A.15.15 0 015 18.85z"
              ></path></svg
            >
            <span>README.md</span>
            <span
              class="w-3.5 h-3.5 ml-1 flex items-center justify-center rounded hover:bg-vscode-surface0/50">
              <svg
                class="w-3 h-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"></path></svg
              >
            </span>
          </a>
          <a
            href="/proyectos"
            class={`flex items-center gap-2 px-4 py-1.5 text-[13px] border-r border-vscode-border h-full transition-colors shrink-0 ${activeFile === "proyectos.json" ? "bg-vscode-tabActive text-vscode-text border-t-2 border-t-vscode-accent" : "bg-vscode-tabInactive text-vscode-textMuted hover:text-vscode-text"}`}>
            <svg
              class="w-4 h-4 text-vscode-yellow"
              fill="currentColor"
              viewBox="0 0 24 24"
              ><path
                d="M5 3h2v2H5v5a2 2 0 01-2 2 2 2 0 012 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 00-2-2H0v-2h1a2 2 0 002-2V5a2 2 0 012-2m14 0a2 2 0 012 2v4a2 2 0 002 2h1v2h-1a2 2 0 00-2 2v4a2 2 0 01-2 2h-2v-2h2v-5a2 2 0 012-2 2 2 0 01-2-2V5h-2V3h2M12 15a1 1 0 110 2 1 1 0 010-2m-4 0a1 1 0 110 2 1 1 0 010-2m8 0a1 1 0 110 2 1 1 0 010-2z"
              ></path></svg
            >
            <span>proyectos.json</span>
            <span
              class="w-3.5 h-3.5 ml-1 flex items-center justify-center rounded hover:bg-vscode-surface0/50">
              <svg
                class="w-3 h-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"></path></svg
              >
            </span>
          </a>

          <!-- snake.astro tab -->
          <a
            href="/snake"
            class={`flex items-center gap-2 px-4 py-1.5 text-[13px] border-r border-vscode-border h-full transition-colors shrink-0 ${activeFile === "snake.astro" ? "bg-vscode-tabActive text-vscode-text border-t-2 border-t-vscode-accent" : "bg-vscode-tabInactive text-vscode-textMuted hover:text-vscode-text"}`}>
            <span class="text-[14px]">üêç</span>
            <span>snake.astro</span>
            <span
              class="w-3.5 h-3.5 ml-1 flex items-center justify-center rounded hover:bg-vscode-surface0/50">
              <svg
                class="w-3 h-3"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                ><path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"></path></svg
              >
            </span>
          </a>

          <div class="flex-1"></div>

<<<<<<< HEAD
          <!-- Layout toggle buttons (hidden on mobile) -->
          <div class="hidden md:flex items-center gap-1 pr-3">
=======
          <!-- Layout toggle buttons -->
          <div class="flex items-center gap-1 pr-3 hidden md:flex">
>>>>>>> 72eba10aee49baf371e42729088083af6d24b880
            <button
              class="p-1 text-vscode-textMuted hover:text-vscode-text transition-colors"
              aria-label="Toggle Panel"
              title="Toggle Panel">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16"
                ><path d="M1 1h6v6H1V1zm8 0h6v6H9V1zM1 9h6v6H1V9zm8 0h6v6H9V9z"
                ></path></svg
              >
            </button>
            <button
              class="p-1 text-vscode-textMuted hover:text-vscode-text transition-colors"
              aria-label="Toggle Secondary Side Bar"
              title="Toggle Secondary Side Bar">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 16 16"
                ><path d="M1 1h14v3H1V1zm0 5h14v3H1V6zm0 5h14v3H1v-3z"
                ></path></svg
              >
            </button>
          </div>
        </div>

        <!-- Breadcrumb (hidden on mobile) -->
        <div
          class="hidden md:flex items-center px-4 py-1 text-[12px] text-vscode-textMuted bg-vscode-editor border-b border-vscode-border/50 shrink-0">
          <span>Vista Previa: {activeFile}</span>
        </div>

        <!-- Editor Content -->
        <div class="flex-1 overflow-y-auto bg-vscode-editor">
          <slot />
        </div>
      </main>
    </div>

    <!-- ===== STATUS BAR ===== -->
    <footer
      class="flex items-center justify-between h-6 bg-vscode-statusbar border-t border-vscode-border text-[11px] select-none shrink-0 px-2">
      <div class="flex items-center gap-3">
        <span
          class="flex items-center gap-1 text-vscode-text bg-vscode-accent/20 px-2 py-0.5 rounded-sm">
          <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 16 16"
            ><path
              d="M14.85 3c-.28 0-.55.11-.75.31L7 10.41 2.9 6.31a1.06 1.06 0 00-1.5 1.5l4.85 4.85c.2.2.47.31.75.31s.55-.11.75-.31l7.85-7.85c.2-.2.31-.47.31-.75 0-.59-.47-1.06-1.06-1.06z"
            ></path></svg
          >
          main*
        </span>
        <span class="text-vscode-textMuted items-center gap-1 hidden md:flex">
          <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 16 16"
            ><path d="M8 0C3.58 0 0 3.58 0 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8z"
            ></path></svg
          >
          0 ‚¨Ü 1 ‚¨á
        </span>
        <span class="text-vscode-textMuted hidden md:inline">‚äò 0 ‚ö† 0</span>
      </div>
      <div class="flex items-center gap-4 text-vscode-textMuted">
        <span class="hidden md:inline">Ln 12, Col 43</span>
        <span class="hidden md:inline">UTF-8</span>
        <span class="hidden sm:inline">Markdown</span>
        <span class="flex items-center gap-1">
          <svg
            class="w-3 h-3 text-vscode-accent"
            fill="currentColor"
            viewBox="0 0 16 16"
            ><path
              d="M8 0l2.47 5.01L16 5.82l-4 3.9.94 5.5L8 12.68l-5 2.54.94-5.5-4-3.9 5.53-.81L8 0z"
            ></path></svg
          >
          Astro + React
        </span>
      </div>
    </footer>

    <!-- ===== SCRIPTS ===== -->
    <script is:inline>
      // config.json -> toggle settings panel
      document.addEventListener("DOMContentLoaded", () => {
        const configBtn = document.getElementById("config-json-btn");
        const mobileConfigBtn = document.getElementById(
          "mobile-config-json-btn",
        );

        const openSettings = () => {
          window.dispatchEvent(new CustomEvent("toggle-settings"));
        };

        if (configBtn) configBtn.addEventListener("click", openSettings);
        if (mobileConfigBtn) {
          mobileConfigBtn.addEventListener("click", () => {
            // Close mobile drawer first, then open settings
            closeMobileDrawer();
            setTimeout(openSettings, 200);
          });
        }

        // Mobile drawer logic
        const menuBtn = document.getElementById("mobile-menu-btn");
        const overlay = document.getElementById("mobile-drawer-overlay");
        const drawer = document.getElementById("mobile-drawer");
        const closeBtn = document.getElementById("mobile-drawer-close");

        function openMobileDrawer() {
          if (!overlay || !drawer) return;
          overlay.classList.remove("hidden");
          requestAnimationFrame(() => {
            overlay.style.opacity = "1";
            drawer.style.transform = "translateX(0)";
          });
        }

        function closeMobileDrawer() {
          if (!overlay || !drawer) return;
          overlay.style.opacity = "0";
          drawer.style.transform = "translateX(-100%)";
          setTimeout(() => overlay.classList.add("hidden"), 250);
        }

        if (menuBtn) menuBtn.addEventListener("click", openMobileDrawer);
        if (closeBtn) closeBtn.addEventListener("click", closeMobileDrawer);
        if (overlay) {
          overlay.addEventListener("click", (e) => {
            if (e.target === overlay) closeMobileDrawer();
          });
        }
      });
    </script>
  </body>
</html>
